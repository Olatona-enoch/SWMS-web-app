<div>
  <app-header 
    [title]="'Schedule Pickup'" 
    [subtitle]="'Schedule your next waste collection'"
    [userName]="'John Doe'"
    [userInitials]="'JD'">
  </app-header>

  <div class="p-8 bg-gray-100">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      
      <div class="lg:col-span-2">
        <div class="card bg-base-100 shadow-md rounded-xl">
          <div class="card-body p-6">
            <h2 class="text-xl font-semibold text-dark-gray mb-6">Schedule a Pickup</h2>
            
            <form [formGroup]="pickupForm" (ngSubmit)="onSubmit()">
              <div class="space-y-5">
                
                <div>
                  <label for="location" class="block text-sm font-medium text-dark-gray mb-2">
                    Location
                  </label>
                  <input
                    type="text"
                    id="location"
                    formControlName="location"
                    class="input input-bordered w-full rounded-lg"
                    [class.input-error]="isFieldInvalid('location')"
                    placeholder="Select or enter pickup location">
                  <div *ngIf="isFieldInvalid('location')" class="text-error text-xs mt-1">
                    Location is required
                  </div>
                </div>

                <div>
                  <label for="binType" class="block text-sm font-medium text-dark-gray mb-2">
                    Bin Type
                  </label>
                  <select 
                    id="binType"
                    formControlName="binType"
                    class="select select-bordered w-full rounded-lg "
                    [class]="pickupForm.get('binType')?.value ? 'text-base-content' : 'text-base-content/40'"
                    [class.select-error]="isFieldInvalid('binType')"
                   >
                    <option value="" disabled selected>Select bin type</option>
                    <option value="general">General Waste</option>
                    <option value="recyclable">Recyclable</option>
                    <option value="organic">Organic Waste</option>
                    <option value="hazardous">Hazardous Waste</option>
                  </select>
                  <div *ngIf="isFieldInvalid('binType')" class="text-error text-xs mt-1">
                    Bin type is required
                  </div>
                </div>

                <div>
                  <label for="pickupDate" class="block text-sm font-medium text-dark-gray mb-2">
                    Preferred Pickup Date
                  </label>
                  <input
                    type="date"
                    id="pickupDate"
                    formControlName="pickupDate"
                    [min]="minDate"
                    class="input input-bordered w-full rounded-lg"
                    [class]="pickupForm.get('pickupDate')?.value ? 'text-base-content' : 'text-base-content/40'"
                    [class.input-error]="isFieldInvalid('pickupDate')"
                    >
                  <div *ngIf="isFieldInvalid('pickupDate')" class="text-error text-xs mt-1">
                    Pickup date is required
                  </div>
                </div>

                <div>
                  <label for="timeSlot" class="block text-sm font-medium text-dark-gray mb-2">
                    Preferred Time Slot
                  </label>
                  <select 
                    id="timeSlot"
                    formControlName="timeSlot"
                    class="select select-bordered w-full rounded-lg"
                    [class]="pickupForm.get('timeSlot')?.value ? 'text-base-content' : 'text-base-content/40'"
                    [class.select-error]="isFieldInvalid('timeSlot')"
                    >
                    <option value="" disabled selected>Select time slot</option>
                    <option value="Morning (8:00 AM - 11:00 AM)">Morning (8:00 AM - 11:00 AM)</option>
                    <option value="Afternoon (12:00 PM - 3:00 PM)">Afternoon (12:00 PM - 3:00 PM)</option>
                    <option value="Evening (4:00 PM - 7:00 PM)">Evening (4:00 PM - 7:00 PM)</option>
                  </select>
                  <div *ngIf="isFieldInvalid('timeSlot')" class="text-error text-xs mt-1">
                    Time slot is required
                  </div>
                </div>

                <div>
                  <label for="notes" class="block text-sm font-medium text-dark-gray mb-2">
                    Additional Notes (Optional)
                  </label>
                  <textarea
                    id="notes"
                    formControlName="notes"
                    rows="3"
                    class="textarea textarea-bordered w-full rounded-lg resize-none"
                    placeholder="Add any special instructions"></textarea>
                </div>

              </div>

              <div class="mt-6 space-y-3">
                <button 
                  type="submit"
                  [disabled]="pickupForm.invalid"
                  class="btn bg-custom-green shadow-md hover:bg-emerald-600 text-white border-none w-full rounded-xl">
                  Schedule Pickup
                </button>
                <button 
                  type="button"
                  (click)="onCancel()"
                  class="pt-2 text-sm font-semibold w-full  text-medium-gray hover:text-custom-red">
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="lg:col-span-1">
        <div class="card bg-base-100 shadow-md rounded-xl mb-6">
          <div class="card-body p-6">
            <h3 class="text-lg font-semibold text-dark-gray mb-4">Next Scheduled Pickup</h3>
            
            <div class="bg-[#E8F8F0] rounded-xl p-6">
              <div class="flex justify-center mb-6">
                <div class="w-16 h-16 bg-custom-green rounded-full flex items-center justify-center">
                  <!-- <svg xmlns="http://www.w3.org/2000/svg"  fill="currentColor" class="bi bi-truck w-8 h-8 text-white font-bold" viewBox="0 0 16 16">
                    <path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5zm1.294 7.456A2 2 0 0 1 4.732 11h5.536a2 2 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456M12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2"/>
                  </svg> -->
                  <svg class="w-8 h-8 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free v7.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M64 80c-8.8 0-16 7.2-16 16l0 288c0 8.8 7.2 16 16 16l3.3 0c10.4-36.9 44.4-64 84.7-64s74.2 27.1 84.7 64l102.6 0c4.9-17.4 15.1-32.7 28.7-43.9L368 96c0-8.8-7.2-16-16-16L64 80zm3.3 368L64 448c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 55.4 0c17 0 33.3 6.7 45.3 18.7l40.6 40.6c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64zM416 256l112 0 0-23.4c0-4.2-1.7-8.3-4.7-11.3l-40.6-40.6c-3-3-7.1-4.7-11.3-4.7l-55.4 0 0 80zm0 48l0 32.4c2.6-.2 5.3-.4 8-.4 40.3 0 74.2 27.1 84.7 64l3.3 0c8.8 0 16-7.2 16-16l0-80-112 0zM152 464a40 40 0 1 0 0-80 40 40 0 1 0 0 80zm272 0a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
                </div>
              </div>

              <div class="text-center space-y-4">
                <div>
                  <p class="text-sm text-dark-gray/70 mb-1">Date</p>
                  <p class="text-sm font-semibold text-dark-gray"> {{ pickupForm.get('pickupDate')?.value ? (pickupForm.get('pickupDate')?.value | date:'MMMM d, yyyy') : 'February 10, 2026' }}</p>
                </div>
                
                <div>
                  <p class="text-sm text-dark-gray/70 mb-1">Time</p>
                  <p class="text-sm font-semibold text-dark-gray">{{pickupForm.get('timeSlot')?.value || 'Morning (8:00 AM - 11:00 AM)' }}</p>
                </div>
                
                <div>
                  <p class="text-sm text-dark-gray/70 mb-1">Location</p>
                  <p class="text-sm font-semibold text-dark-gray">{{ pickupForm.get('location')?.value || '123 Main Street' }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-amber-50 border-l-4 border-amber-400 rounded-xl p-5 shadow-sm">
          <div class="flex gap-3">
            <div class="flex-shrink-0">
              <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <div>
              
              <p class="text-sm text-medium-gray">
                <span class=" font-bold text-dark-gray ">Reminder:</span>
                Please ensure your bins are placed at the designated location before 8:00 AM on the pickup day.
              </p>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>